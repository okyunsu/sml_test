# Material Assessment Service

ì¤‘ëŒ€ì„± í‰ê°€ ë™í–¥ ë¶„ì„ ë° ì—…ë°ì´íŠ¸ ì œì•ˆ ì„œë¹„ìŠ¤ (MVP)

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### ğŸ’¼ íšŒì‚¬ë³„ ì¤‘ëŒ€ì„± ë¶„ì„
- **ë‘ì‚°í“¨ì–¼ì…€**: ì—°ë£Œì „ì§€ ë° ì‹ ì¬ìƒì—ë„ˆì§€ ê¸°ì—… ì¤‘ëŒ€ì„± í‰ê°€ ë¶„ì„
- **LS ELECTRIC**: ì „ë ¥ ë° ìë™í™” ì†”ë£¨ì…˜ ê¸°ì—… ì¤‘ëŒ€ì„± í‰ê°€ ë¶„ì„
- **ë‰´ìŠ¤ ê¸°ë°˜ ë³€í™” ë¶„ì„**: sasb-service ì—°ë™ì„ í†µí•œ ë‰´ìŠ¤ ê¸°ë°˜ ì¤‘ëŒ€ì„± í‰ê°€ ë³€í™” ë¶„ì„
- **í‰ê°€ ë¹„êµ**: ì—°ë„ë³„ ì¤‘ëŒ€ì„± í‰ê°€ ë¹„êµ ë¶„ì„

### ğŸ­ ì‚°ì—…ë³„ ì¤‘ëŒ€ì„± ë¶„ì„
- **ì‹ ì¬ìƒì—ë„ˆì§€ ì‚°ì—…**: íƒœì–‘ê´‘, í’ë ¥, ì—°ë£Œì „ì§€ ë“± ì‹ ì¬ìƒì—ë„ˆì§€ ì‚°ì—… ì¤‘ëŒ€ì„± ì´ìŠˆ ë¶„ì„
- **ì‚°ì—… íŠ¸ë Œë“œ**: ìˆ˜ì†Œ ì—ë„ˆì§€, ì—ë„ˆì§€ ì €ì¥ ì‹œìŠ¤í…œ(ESS) ë“± ì£¼ìš” íŠ¸ë Œë“œ ë¶„ì„
- **SASB ë§¤í•‘**: ì‹ ì¬ìƒì—ë„ˆì§€ ì‚°ì—… ì£¼ìš” SASB ì´ìŠˆ ì‹ë³„ ë° ë§¤í•‘

### ğŸ“Š ê¸°ë³¸ ê´€ë¦¬ ê¸°ëŠ¥
- **ì¤‘ëŒ€ì„± í‰ê°€ íŒŒì¼ ê´€ë¦¬**: materiality í´ë” ê¸°ë°˜ íŒŒì¼ ì‹œìŠ¤í…œ
- **SASB ë§¤í•‘ ì‹œìŠ¤í…œ**: ì¤‘ëŒ€ì„± í‰ê°€ í† í”½ê³¼ SASB ì´ìŠˆ ìë™ ë§¤í•‘
- **ì‹¤ì‹œê°„ ë°ì´í„° ì¡°íšŒ**: íŒŒì¼ ê¸°ë°˜ ì‹¤ì‹œê°„ ì¤‘ëŒ€ì„± í‰ê°€ ë°ì´í„° ì œê³µ

## ğŸ¢ ì§€ì› ê¸°ì—… (MVP)

### ë‘ì‚°í“¨ì–¼ì…€
- **ì‚°ì—…**: ì‹ ì¬ìƒì—ë„ˆì§€ (ì—°ë£Œì „ì§€)
- **ë°ì´í„°**: `materiality/doosan.txt`
- **ì£¼ìš” í† í”½**: ê¸°í›„ë³€í™” ëŒ€ì‘, ê¸°ìˆ  í˜ì‹ , ì•ˆì „, í™˜ê²½ ì˜í–¥ ë“±

### LS ELECTRIC
- **ì‚°ì—…**: ì‹ ì¬ìƒì—ë„ˆì§€ (ì „ë ¥/ìë™í™”)
- **ë°ì´í„°**: `materiality/ls.txt`
- **ì£¼ìš” í† í”½**: ê¸°í›„ë³€í™” ëŒ€ì‘, ê³µê¸‰ë§ ê´€ë¦¬, ì—ë„ˆì§€ íš¨ìœ¨ ë“±

## ğŸ­ ì§€ì› ì‚°ì—… (MVP)

### ì‹ ì¬ìƒì—ë„ˆì§€
- **ì„¤ëª…**: íƒœì–‘ê´‘, í’ë ¥, ì—°ë£Œì „ì§€ ë“± ì‹ ì¬ìƒì—ë„ˆì§€ ì‚°ì—…
- **ì£¼ìš” SASB í† í”½**: ê¸°í›„ë³€í™” ëŒ€ì‘, í™˜ê²½ ì˜í–¥, ì—ë„ˆì§€ íš¨ìœ¨, ê¸°ìˆ  í˜ì‹ , ì•ˆì „, ê·œì œ ì¤€ìˆ˜
- **ê´€ë ¨ ê¸°ì—…**: ë‘ì‚°í“¨ì–¼ì…€, LS ELECTRIC

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

### ğŸ¨ ê¸°ë³¸ ê´€ë¦¬ API

#### 1. í—¬ìŠ¤ì²´í¬
```bash
GET /api/v1/materiality/health
```

#### 2. ì§€ì› ê¸°ì—… ëª©ë¡ ì¡°íšŒ
```bash
GET /api/v1/materiality/companies
```

#### 3. ê¸°ì—…ë³„ ì¤‘ëŒ€ì„± í‰ê°€ ì¡°íšŒ
```bash
GET /api/v1/materiality/companies/{company_name}/assessment/{year}
```

### ğŸ’¼ íšŒì‚¬ë³„ ì¤‘ëŒ€ì„± ë¶„ì„ API

#### 1. íšŒì‚¬ë³„ ì¤‘ëŒ€ì„± í‰ê°€ ë¶„ì„
```bash
POST /api/v1/materiality/companies/{company_name}/analyze
```

**Query Parameters:**
- `year`: ë¶„ì„ ì—°ë„ (ê¸°ë³¸ê°’: 2024)
- `include_news`: ë‰´ìŠ¤ ë¶„ì„ í¬í•¨ ì—¬ë¶€ (ê¸°ë³¸ê°’: true)
- `max_articles`: ë¶„ì„í•  ìµœëŒ€ ë‰´ìŠ¤ ìˆ˜ (ê¸°ë³¸ê°’: 100)

**ì˜ˆì‹œ:**
```bash
curl -X POST "http://localhost:8000/api/v1/materiality/companies/ë‘ì‚°í“¨ì–¼ì…€/analyze?year=2024&include_news=true&max_articles=100"
```

#### 2. íšŒì‚¬ë³„ ì¤‘ëŒ€ì„± í‰ê°€ ë¹„êµ
```bash
GET /api/v1/materiality/companies/{company_name}/compare?year1=2023&year2=2024
```

### ğŸ­ ì‚°ì—…ë³„ ì¤‘ëŒ€ì„± ë¶„ì„ API

#### 1. ì‚°ì—…ë³„ ì¤‘ëŒ€ì„± ì´ìŠˆ ë¶„ì„
```bash
POST /api/v1/materiality/industries/{industry}/analyze
```

**Query Parameters:**
- `year`: ë¶„ì„ ì—°ë„ (ê¸°ë³¸ê°’: 2024)
- `max_articles`: ë¶„ì„í•  ìµœëŒ€ ë‰´ìŠ¤ ìˆ˜ (ê¸°ë³¸ê°’: 100)
- `include_sasb_mapping`: SASB ë§¤í•‘ í¬í•¨ ì—¬ë¶€ (ê¸°ë³¸ê°’: true)

**ì˜ˆì‹œ:**
```bash
curl -X POST "http://localhost:8000/api/v1/materiality/industries/ì‹ ì¬ìƒì—ë„ˆì§€/analyze?year=2024&max_articles=100"
```

#### 2. ì§€ì› ì‚°ì—… ëª©ë¡ ì¡°íšŒ
```bash
GET /api/v1/materiality/industries
```

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **Framework**: FastAPI
- **Language**: Python 3.9+
- **Database**: File-based (í…ìŠ¤íŠ¸ íŒŒì¼)
- **External Services**: Gateway, SASB Service
- **Containerization**: Docker

## ğŸ“¦ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
material-service/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ materiality_router.py          # API ë¼ìš°í„°
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”‚   â””â”€â”€ materiality_dto.py         # ë°ì´í„° ëª¨ë¸
â”‚   â”‚   â””â”€â”€ service/
â”‚   â”‚       â”œâ”€â”€ materiality_analysis_service.py    # íšŒì‚¬ë³„ ì¤‘ëŒ€ì„± ë¶„ì„
â”‚   â”‚       â”œâ”€â”€ industry_analysis_service.py       # ì‚°ì—…ë³„ ì¤‘ëŒ€ì„± ë¶„ì„
â”‚   â”‚       â”œâ”€â”€ materiality_file_service.py        # íŒŒì¼ ê´€ë¦¬
â”‚   â”‚       â””â”€â”€ materiality_mapping_service.py     # SASB ë§¤í•‘
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ gateway_client.py              # Gateway í´ë¼ì´ì–¸íŠ¸
â”‚   â””â”€â”€ main.py
â”œâ”€â”€ materiality/
â”‚   â”œâ”€â”€ doosan.txt                         # ë‘ì‚°í“¨ì–¼ì…€ ì¤‘ëŒ€ì„± í‰ê°€
â”‚   â””â”€â”€ ls.txt                             # LS ELECTRIC ì¤‘ëŒ€ì„± í‰ê°€
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1. ë¡œì»¬ ì‹¤í–‰
```bash
# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 2. Docker ì‹¤í–‰
```bash
# ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t material-service .

# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -p 8000:8000 material-service
```

### 3. Docker Compose ì‹¤í–‰
```bash
# ì „ì²´ ì„œë¹„ìŠ¤ ì‹¤í–‰
docker-compose up -d
```

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜

```bash
# Gateway ì„¤ì •
GATEWAY_URL=http://localhost:8080

# ë¡œê·¸ ë ˆë²¨
LOG_LEVEL=INFO
```

## ğŸ“„ API ì‘ë‹µ ì˜ˆì‹œ

### íšŒì‚¬ë³„ ì¤‘ëŒ€ì„± ë¶„ì„ ê²°ê³¼
```json
{
  "analysis_metadata": {
    "company_name": "ë‘ì‚°í“¨ì–¼ì…€",
    "analysis_year": 2024,
    "analysis_date": "2024-01-15T10:30:00Z",
    "disclaimer": "ë‰´ìŠ¤ ë¶„ì„ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤."
  },
  "news_analysis": {
    "total_articles": 85,
    "analysis_period": "2024ë…„",
    "key_changes": [
      {
        "topic": "ê¸°í›„ë³€í™” ëŒ€ì‘",
        "change_type": "increased_importance",
        "confidence": 0.8
      }
    ]
  },
  "recommendations": [
    "ìˆ˜ì†Œ ì—ë„ˆì§€ ê´€ë ¨ ì´ìŠˆì— ëŒ€í•œ ìš°ì„ ì  ê´€ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤."
  ]
}
```

### ì‚°ì—…ë³„ ì¤‘ëŒ€ì„± ë¶„ì„ ê²°ê³¼
```json
{
  "analysis_metadata": {
    "industry": "ì‹ ì¬ìƒì—ë„ˆì§€",
    "analysis_year": 2024,
    "analysis_date": "2024-01-15T10:30:00Z",
    "disclaimer": "ì‚°ì—… ë¶„ì„ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì…ë‹ˆë‹¤."
  },
  "industry_info": {
    "description": "íƒœì–‘ê´‘, í’ë ¥, ì—°ë£Œì „ì§€ ë“± ì‹ ì¬ìƒì—ë„ˆì§€ ì‚°ì—…",
    "key_sasb_topics": ["ê¸°í›„ë³€í™” ëŒ€ì‘", "í™˜ê²½ ì˜í–¥", "ì—ë„ˆì§€ íš¨ìœ¨"],
    "related_companies": ["ë‘ì‚°í“¨ì–¼ì…€", "LS ELECTRIC"]
  },
  "materiality_analysis": {
    "key_issues": [
      {
        "issue_name": "ê¸°í›„ë³€í™” ëŒ€ì‘",
        "mention_count": 45,
        "relevance_score": 0.65
      }
    ],
    "emerging_issues": [
      {
        "issue_name": "ì—ë„ˆì§€ íš¨ìœ¨",
        "mention_count": 2,
        "trend": "emerging"
      }
    ]
  },
  "trend_analysis": {
    "key_trends": [
      {
        "trend_name": "ìˆ˜ì†Œ ì—ë„ˆì§€ í™•ì‚°",
        "trend_direction": "increasing",
        "impact_level": "high"
      }
    ]
  }
}
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **MVP ë²”ìœ„**: í˜„ì¬ ë‘ì‚°í“¨ì–¼ì…€, LS ELECTRIC 2ê°œ íšŒì‚¬ì™€ ì‹ ì¬ìƒì—ë„ˆì§€ ì‚°ì—…ë§Œ ì§€ì›
2. **ì°¸ê³ ìš© ë¶„ì„**: ë‰´ìŠ¤ ë¶„ì„ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì‹¤ì œ ì¤‘ëŒ€ì„± í‰ê°€ëŠ” ë‹¤ì–‘í•œ ì´í•´ê´€ê³„ì ì˜ê²¬ì„ ì¢…í•©í•˜ì—¬ ìˆ˜í–‰
3. **Gateway ì˜ì¡´ì„±**: SASB ì„œë¹„ìŠ¤ì™€ì˜ ì—°ë™ì„ ìœ„í•´ Gateway ì„œë¹„ìŠ¤ í•„ìš”
4. **ë°ì´í„° ì œí•œ**: íŒŒì¼ ê¸°ë°˜ ë°ì´í„° ê´€ë¦¬ë¡œ í™•ì¥ì„± ì œí•œ

## ğŸ”® í–¥í›„ ê°œë°œ ê³„íš

1. **ê¸°ì—… í™•ì¥**: ë” ë§ì€ ê¸°ì—… ì§€ì›
2. **ì‚°ì—… í™•ì¥**: ë‹¤ì–‘í•œ ì‚°ì—… ë¶„ì„ ì§€ì›
3. **ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™**: íŒŒì¼ ê¸°ë°˜ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì „í™˜
4. **ê³ ë„í™”ëœ ë¶„ì„**: ë¨¸ì‹ ëŸ¬ë‹ ê¸°ë°˜ ë¶„ì„ ë„ì…
5. **ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤**: ì›¹ ê¸°ë°˜ ëŒ€ì‹œë³´ë“œ ì œê³µ 